<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>환경생물학 1장 빈칸 퀴즈</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    h1 { text-align: center; }
    .question { margin-bottom: 15px; }
    input[type="text"] { width: 70%; padding: 5px; font-size: 1em; }
    .correct { color: green; margin-left: 10px; }
    .wrong { color: red; margin-left: 10px; }
    #submit-btn { padding: 10px 20px; font-size: 1em; display: block; margin: 20px auto; }
    #result { margin-top: 20px; font-size: 1.2em; text-align: center; }
  </style>
</head>
<body>
  <h1>환경생물학 1장 빈칸 퀴즈</h1>
  <form id="quiz-form" onsubmit="return false;">
    <!-- 30문항 -->
    <div class="question"><label>1. 생명체가 외부 자극에 반응하고 내부 상태를 일정하게 유지하려는 성질은?</label><br><input type="text" id="answer0"><span id="feedback0"></span></div>
    <!-- ... 나머지 2~29문항 동일 형식 ... -->
    <div class="question"><label>30. ATP는 화학에너지를 어떤 형태로 전환할 수 있는가?</label><br><input type="text" id="answer29"><span id="feedback29"></span></div>
  </form>

  <button id="submit-btn" onclick="checkAnswers()">제출</button>
  <div id="result"></div>

  <script>
    const answers = [
      ["자극감수성"],["종족유지"],["개체"],["화학에너지"],["독립영양생물"],
      ["종속영양생물"],["그라나"],["엽록소"],["P700","P680"],["스트로마"],
      ["RuBP"],["포스포글리세르알데하이드"],["C3식물","C3"],["C4식물","C4"],["유관속초"],
      ["보상점"],["0.25%","0.25"],["기공"],["Mg"],["저해"],
      ["미토콘드리아"],["유기호흡"],["40%","40"],["1.0/0.7","1.0/0.7"],["9"],
      ["젖산"],["크렙스회로"],["ATP"],["ATP"],["기계적에너지","기계적 에너지"]
    ];

    const normalize = s => s.replace(/\s+/g, '').toLowerCase();

    function checkAnswers() {
      let score = 0;
      answers.forEach((opts, i) => {
        const el = document.getElementById(`answer${i}`);
        const fb = document.getElementById(`feedback${i}`);
        const val = normalize(el.value || '');
        const ok = opts.some(a => normalize(a) === val);
        if (ok) {
          fb.textContent = ' 정답입니다!';
          fb.className = 'correct';
          score++;
        } else {
          fb.textContent = ` 오답. 정답: ${opts[0]}`;
          fb.className = 'wrong';
        }
      });
      document.getElementById('result').innerHTML =
        `<h2>총 ${answers.length}문제 중 ${score}문제 정답 (${(score/answers.length*100).toFixed(1)}%)</h2>`;
    }
  </script>
</body>
</html>
